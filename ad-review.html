<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ad Creative Review Tool</title>
</head>
<body>
    <h1>Ad Creative Review Tool</h1>
    <button id="reviewBtn">Review Ads</button>

    <script>
        document.getElementById('reviewBtn').addEventListener('click', async function() {
            try {
                // Fetch creatives (posts) from the API
                const response = await fetch('https://jsonplaceholder.typicode.com/posts');
                
                // Check if the request was successful
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                const creatives = await response.json();
                
                // Process each creative and determine status
                const reviewedCreatives = creatives.map(creative => {
                    let status;
                    let title = creative.title;
                    
                    // Determine status based on id
                    if (creative.id % 3 === 0) {
                        status = 'rejected';
                        // Convert title to uppercase for rejected creatives
                        title = title.toUpperCase();
                    } else if (creative.id % 2 === 0) {
                        status = 'approved';
                    } else {
                        status = 'pending';
                    }
                    
                    // Return new object with required fields
                    return {
                        id: creative.id,
                        title: title,
                        status: status
                    };
                });
                
                // Print results to console
                console.log('Ad Creative Review Results:');
                console.log(reviewedCreatives);
                
            } catch (error) {
                // Handle any errors that occur during fetch or processing
                console.error('Error fetching or processing ad creatives:', error.message);
            }
        });
    </script>
</body>
</html>
